{% extends "base.html" %}

{% block title %}Checkout{% endblock %}

{% block content %}
<h1>Checkout</h1>
<p>Total: ${{ total }}</p>

<form action="/process_payment" method="post">
    <label for="payment_method">Choose a payment method:</label>
    <select id="payment_method" name="payment_method">
        <option value="cash">Efectivo</option>
        <option value="credit">Tarjeta de Crédito</option>
        <option value="debit">Tarjeta de Débito</option>
        <option value="account">Cuenta Corriente</option>
    </select>
    <div id="credit_options" style="display: none;">
        <label for="installments">Elija la cantidad de cuotas:</label>
        <select id="installments" name="installments">
            <option value="1">1 cuota</option>
            <option value="6">6 cuotas</option>
            <option value="12">12 cuotas</option>
        </select>
    </div>
    <div id="debit_options" style="display: none;">
        <p>Tarjeta de Débito: Pago automático en una sola cuota.</p>
    </div>
    <button type="submit">Confirmar Pago</button>
</form>

<a href="/cart">Volver al carrito</a>

<script>
document.getElementById('payment_method').addEventListener('change', function() {
    var creditOptions = document.getElementById('credit_options');
    var debitOptions = document.getElementById('debit_options');
    if (this.value == 'credit') {
        creditOptions.style.display = 'block';
        debitOptions.style.display = 'none';
    } else if (this.value == 'debit') {
        creditOptions.style.display = 'none';
        debitOptions.style.display = 'block';
    } else {
        creditOptions.style.display = 'none';
        debitOptions.style.display = 'none';
    }
});
</script>
{% endblock %}
